<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DoÄŸum GÃ¼nÃ¼ Linki OluÅŸtur</title>
  <style>
    body { font-family: Arial,sans-serif; display:flex; align-items:center; justify-content:center; min-height:100vh; background: linear-gradient(135deg,#ffecd2,#fcb69f); margin:0; }
    .card { background:#fff; padding:24px; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.12); width:320px; text-align:center;}
    input { width:100%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #ccc; font-size:14px;}
    button { padding:10px 16px; margin-top:8px; border-radius:8px; border:0; background:#ff6b6b; color:#fff; cursor:pointer; font-weight:600; }
    .result { margin-top:12px; display:none; flex-direction:column; gap:8px; }
    .linkbox { padding:8px; background:#f0f0f0; border-radius:8px; word-break:break-all; }
  </style>
</head>
<body>
  <div class="card">
    <h2>DoÄŸum GÃ¼nÃ¼ Linki OluÅŸtur</h2>
    <input id="first" placeholder="Ad">
    <input id="last" placeholder="Soyad">
    <input id="note" placeholder="KÄ±sa not (opsiyonel)">
    <button id="make">Link OluÅŸtur</button>

    <div class="result" id="resWrap">
      <div class="linkbox" id="linkBox"></div>
      <button id="copyBtn">Kopyala</button>
    </div>

    <button id="whatsapp">WhatsApp ile GÃ¶nder</button>
    <button id="download">HTML Ä°ndir</button>
  </div>

<script>
const first = document.getElementById('first');
const last = document.getElementById('last');
const note = document.getElementById('note');
const make = document.getElementById('make');
const resWrap = document.getElementById('resWrap');
const linkBox = document.getElementById('linkBox');
const copyBtn = document.getElementById('copyBtn');
const whatsapp = document.getElementById('whatsapp');
const download = document.getElementById('download');

function makeLink() {
  const f = first.value.trim();
  const l = last.value.trim();
  const n = note.value.trim();
  if(!f && !l){ alert('LÃ¼tfen ad veya soyad girin'); return ''; }
  const params = new URLSearchParams();
  params.set('name', `${f} ${l}`.trim());
  if(n) params.set('note', n);
  const base = location.origin + location.pathname.replace(/index\.html$/,'') + 'greet.html';
  return base + '?' + params.toString();
}

make.addEventListener('click', ()=>{
  const url = makeLink();
  if(!url) return;
  linkBox.textContent = url;
  resWrap.style.display = 'flex';
});

copyBtn.addEventListener('click', async()=>{
  try{ await navigator.clipboard.writeText(linkBox.textContent); copyBtn.textContent='KopyalandÄ± âœ“'; setTimeout(()=>copyBtn.textContent='Kopyala',1500);} 
  catch(e){ alert('Kopyalama baÅŸarÄ±sÄ±z, manuel kopyalayÄ±n');}
});

whatsapp.addEventListener('click', ()=>{
  const url = makeLink();
  if(!url) return;
  const text = encodeURIComponent(`DoÄŸum gÃ¼nÃ¼n kutlu olsun! ðŸŽ‰ AÃ§mak iÃ§in tÄ±kla: ${url}`);
  window.open(`https://wa.me/?text=${text}`, '_blank');
});

download.addEventListener('click', ()=>{
  const url = makeLink();
  if(!url) return;
  const htmlContent = `
<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mutlu YÄ±llar</title>
<style>
body{font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;background:linear-gradient(135deg,#fddb92,#d1fdff);}
.wrap{background:#fff;padding:32px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.12);text-align:center;}
h1{margin:0 0 8px 0;}
p{margin:8px 0;}
button{padding:10px 16px;border-radius:10px;border:0;background:#ff6b6b;color:#fff;cursor:pointer;font-weight:600;}
</style>
</head>
<body>
<div class="wrap">
<h1>Mutlu YÄ±llar, ${f} ${l}!</h1>
<p>${n||'Nice mutlu yÄ±llara!'}</p>
<button onclick="alert('ðŸŽ‰ Mutlu YÄ±llar!')">Kutla ðŸŽˆ</button>
</div>
</body>
</html>`;
  const blob = new Blob([htmlContent],{type:'text/html'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `mutlu_yillar_${f}_${l}.html`;
  document.body.appendChild(a);
  a.click();
  a.remove();
});
</script>
</body>
</html>

